(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),s=n.n(r),i=n(21),c=n(16),p=n(63),l=n.n(p),u=(n(84),n(52)),d=n.n(u),h=n(64),g=n(28),f=n(29),m=n(33),y=n(30),b=n(34),v="SET_JSON",x="SEND_MESSAGE",E="UPDATE_ID";function w(e){return{type:v,payload:e}}function F(e){return{type:x,payload:e}}function O(e){return e<0&&(e=0),{type:E,payload:e}}var j=n(23),C=n.n(j),k=n(65),D=n.n(k),S=(n(86),n(66)),B=n.n(S),I={chatWindowCenter:{backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column",flex:1,overflowY:"scroll",padding:"10px 20px"},loadingSpinner:{alignSelf:"center",paddingTop:"100px"},receipientName:{color:"#354058"},authorName:{color:"#5294FC"},chatMessage:{display:"flex",flexDirection:"column",padding:"5px 0px"},chatText:{color:"#B7BFC8"}},M=function(e){function t(){return Object(g.a)(this,t),Object(m.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidUpdate",value:function(){var e=document.getElementById("chat-scroll");e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this,t=this.props,n=t.onboardingJSON,a=t.messages;return o.a.createElement("div",{style:I.chatWindowCenter,id:"chat-scroll"},n.length<1?o.a.createElement("div",{style:I.loadingSpinner},o.a.createElement(B.a,{size:15,color:"#C6EEF0"})):C.a.map(a,function(t,n){return o.a.createElement("div",{key:n,style:I.chatMessage},o.a.createElement("div",{style:t.author===e.props.user?I.authorName:I.receipientName},t.author),o.a.createElement("div",{style:I.chatText},"password"===t.style?C.a.map(t.message.split(""),function(e){return"*"}):t.message))}))}}]),t}(a.Component);var N=Object(i.b)(function(e){return{onboardingJSON:e.json,messages:e.messages,currentID:e.id}})(M),T=n(133),J=n(134),W=n(67),R=n.n(W),q={chatWindowBottom:{backgroundColor:"#EBF5F6",height:"60px",display:"flex",flexDirection:"row",padding:"20px"},inputBox:{backgroundColor:"#FFFFFF",marginRight:"10px",borderRadius:"5%",marginBottom:"0",width:"100%",height:"93%"},sendButton:{color:"#FFFFFF",backgroundColor:"#5294FC",marginLeft:"10px",height:"93%"}},Y=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(m.a)(this,Object(y.a)(t).call(this,e))).state={input:""},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"sendInput",value:function(e){var t=this.props,n=t.onboardingJSON,a=t.currentID,o={message:e,author:this.props.author};"password"===n[a].style&&(o.style="password"),this.props.sendMessage(o),this.setState({input:""})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onboardingJSON,a=t.currentID,r=this.state.input;return o.a.createElement("div",{style:q.chatWindowBottom},o.a.createElement(T.a,{variant:"outlined",onChange:function(t){return e.setState({input:t.target.value})},placeholder:"Type here...",style:q.inputBox,value:r,type:n.length>0&&"password"===n[a].style?"password":null,onKeyDown:function(t){"Enter"===t.key&&r.length>0&&(t.preventDefault(),e.sendInput(r))}}),o.a.createElement(J.a,{onClick:function(t){t.preventDefault(),r.length>0&&e.sendInput(r)},style:q.sendButton},o.a.createElement(R.a,null)))}}]),t}(a.Component);var _=Object(i.b)(function(e){return{onboardingJSON:e.json,messages:e.messages,currentID:e.id}},function(e){return Object(c.b)({setJSON:w,sendMessage:F,updateID:O},e)})(Y),L=n(68),P=n.n(L),U=n(69),z=n.n(U),A={root:{backgroundColor:"#B1E8EC",backgroundImage:"linear-gradient( -7deg, #B1E8EC 0%, #B1E8EC 50%, #BEEEF0 50%, #BEEEF0 50%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},supportWindow:{backgroundColor:"#354058",width:"225px",height:"50px",display:"flex",justifyContent:"space-evenly",alignItems:"center",boxShadow:"0px -2px 40px -10px rgba(0,0,0,0.3)",borderRadius:"5px 5px 0px 0px"},supportIcon:{color:"#5294FC"},supportText:{color:"#CBD3DC",textTransform:"none",fontSize:"16px"},supportFakeButton:{color:"#5294FC"},chatWindow:{display:"flex",flexDirection:"column",width:"450px",height:"450px",boxShadow:"0px 12px 40px -10px rgba(0,0,0,0.3)"},chatWindowTop:{backgroundColor:"#EBF5F6",height:"70px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",paddingLeft:"10px"},receipientPic:{width:"70px"},chatWindowCenter:{backgroundColor:"#FFFFFF",display:"flex",flexDirection:"column",flex:1,overflowY:"scroll",padding:"10px 20px"},loadingSpinner:{alignSelf:"center",paddingTop:"100px"},receipientName:{color:"#354058"},authorName:{color:"#5294FC"},chatMessage:{display:"flex",flexDirection:"column",padding:"5px 0px"},chatText:{color:"#B7BFC8"}},Q="React Bot",G=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(m.a)(this,Object(y.a)(t).call(this,e))).state={},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.getOnboardingQuestions()}},{key:"componentDidUpdate",value:function(){var e=this.props.messages,t=e.length-1;t>0&&e[t].author!==Q&&this.checkResponse(e[t].message)}},{key:"getOnboardingQuestions",value:function(){var e=Object(h.a)(d.a.mark(function e(){var t=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"https://gist.githubusercontent.com/pcperini/97fe41fc42ac1c610548cbfebb0a4b88/raw/cc07f09753ad8fefb308f5adae15bf82c7fffb72/cerebral_challenge.json",fetch("https://gist.githubusercontent.com/pcperini/97fe41fc42ac1c610548cbfebb0a4b88/raw/cc07f09753ad8fefb308f5adae15bf82c7fffb72/cerebral_challenge.json").then(function(e){return e.json()}).then(function(e){t.props.setJSON(e),t.props.sendMessage({message:e[1].question,author:Q})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"checkResponse",value:function(e){var t=this.props,n=t.onboardingJSON,a=t.currentID;if(!1!==n[a].validation){var o=e;if(e=C.a.toLower(C.a.trim(e)),"boolean"===typeof n[a].validation)return this.postMessage(o,a),this.props.sendMessage({message:n[n[a].paths].question,author:Q}),void this.props.updateID(n[a].paths);if("string"===typeof n[a].validation){if(new RegExp(n[a].validation).test(e)){this.postMessage(o,a);var r=n[a].paths;return this.props.sendMessage({message:n[r].question,author:Q}),void this.props.updateID(r)}return this.props.sendMessage({message:"Your response didn't meet the criteria, please try again",author:Q}),void this.props.sendMessage({message:n[a].question,author:Q})}if(C.a.includes(n[a].validation,e)){this.postMessage(o,a);var s=-1;return-1===(s=Object.keys(n[a].paths).length>1?n[a].paths[e]:n[a].paths)&&(s=0),this.props.sendMessage({message:n[s].question,author:Q}),void this.props.updateID(s)}return this.props.sendMessage({message:"I don't understand your response, please try again",author:Q}),void this.props.sendMessage({message:n[a].question,author:Q})}}},{key:"postMessage",value:function(e,t){var n="https://jsonplaceholder.typicode.com/posts/".concat(t);fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){})}},{key:"render",value:function(){return o.a.createElement("div",{style:A.root},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{width:"225px",height:"50px"}}),o.a.createElement(J.a,{style:A.supportWindow},o.a.createElement("div",{style:A.supportIcon},o.a.createElement(P.a,null)),o.a.createElement("div",{style:A.supportText}," Live Support "),o.a.createElement("div",{style:A.supportFakeButton},o.a.createElement(z.a,null)))),o.a.createElement("div",{style:A.chatWindow},o.a.createElement("div",{style:A.chatWindowTop},o.a.createElement("img",{src:D.a,style:A.receipientPic,alt:"Bot Icon"}),o.a.createElement("div",{style:A.receipientName},Q)),o.a.createElement(N,{user:"You"}),o.a.createElement(_,{author:"You"})))}}]),t}(a.Component);var H=Object(i.b)(function(e){return{onboardingJSON:e.json,messages:e.messages,currentID:e.id}},function(e){return Object(c.b)({setJSON:w,sendMessage:F,updateID:O},e)})(G),K=n(70),V=[],X={},Z=Object(c.c)({json:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return[].concat(Object(K.a)(e),[t.payload]);default:return e}},id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.payload;default:return e}}}),$=Object(c.a)(l.a)(c.d);s.a.render(o.a.createElement(i.a,{store:$(Z)},o.a.createElement(H,null)),document.getElementById("root"))},65:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},72:function(e,t,n){e.exports=n(106)},84:function(e,t,n){},86:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.3573bd43.chunk.js.map